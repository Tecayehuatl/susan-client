<section>
    <h3>
        {{ title }}
    </h3>
    <section class="mat-elevation-z8">
        <table mat-table [dataSource]="dataSource" matSort>
            <!-- ID Column -->
            <ng-container matColumnDef="id">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>
                    ID de la orden
                </th>
                <td mat-cell *matCellDef="let row">
                    {{ row.order_id }}
                </td>
            </ng-container>
            <!-- Creation date Column -->
            <ng-container matColumnDef="creationDate">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>
                    Fecha de creación
                </th>
                <td mat-cell *matCellDef="let row">
                    {{ row.created_at | date : 'longDate' | uppercase }}
                </td>
            </ng-container>
            <!-- General status Column -->
            <ng-container matColumnDef="generalStatus">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>
                    Estatus general
                </th>
                <td mat-cell *matCellDef="let row">
                    {{
                        row.order_status_id
                            | getOrderStatus : 'generalOrderStatus'
                    }}
                </td>
            </ng-container>
            <!-- Payment status Column -->
            <ng-container matColumnDef="paymentStatus">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>
                    Estatus de pago
                </th>
                <td mat-cell *matCellDef="let row">
                    {{
                        row.payment_status_id | getOrderStatus : 'paymentStatus'
                    }}
                </td>
            </ng-container>
            <!-- Deliver status column -->
            <ng-container matColumnDef="deliverStatus">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>
                    Estatus de entrega
                </th>
                <td mat-cell *matCellDef="let row">
                    {{
                        row.delivery_status_id
                            | getOrderStatus : 'deliveryStatus'
                    }}
                </td>
            </ng-container>
            <!-- Grand total column-->
            <ng-container matColumnDef="grandTotal">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Total</th>
                <td mat-cell *matCellDef="let row">
                    {{ row.grandTotal }}
                </td>
            </ng-container>
            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr
                mat-row
                *matRowDef="let row; columns: displayedColumns; let i = index"
                (click)="navigateToOrderQuote(row)"
            ></tr>
        </table>
        <mat-paginator
            [pageSizeOptions]="[5, 10, 25, 100]"
            aria-label="Cotizaciones por página"
        ></mat-paginator>
    </section>
</section>
