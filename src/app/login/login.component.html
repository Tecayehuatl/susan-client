<section class="login">
    <section class="login-left">
        <div class="login-image-container">
            <img
                class="login-image"
                src="../../assets/images/biotecsa-logo-white.png"
                alt="Biotecsa logo"
            />
        </div>
    </section>
    <form class="login-right" [formGroup]="loginForm">
        <section class="login-form">
            <mat-form-field>
                <mat-label>Correo del usuario</mat-label>
                <input
                    matInput
                    placeholder="Nombre del usuario"
                    tabindex="1"
                    autocomplete="email"
                    formControlName="email"
                />
            </mat-form-field>
            <mat-form-field>
                <mat-label>Contraseña</mat-label>
                <input
                    [type]="toggleViewPassword ? 'password' : 'text'"
                    matInput
                    placeholder="Contraseña"
                    autocomplete="disabled"
                    formControlName="password"
                />
                <button
                    mat-icon-button
                    matSuffix
                    (click)="toggleViewPassword = !toggleViewPassword"
                    [attr.aria-label]="'Hide password'"
                    [attr.aria-pressed]="toggleViewPassword"
                >
                    <mat-icon>
                        {{
                            toggleViewPassword ? 'visibility_off' : 'visibility'
                        }}
                    </mat-icon>
                </button>
            </mat-form-field>
            <div class="login-action">
                <button
                    mat-flat-button
                    color="primary"
                    [disabled]="!loginForm.valid || isLoading"
                    (click)="onSubmit()"
                >
                    <span *ngIf="!isLoading">Iniciar sesión</span>
                    <mat-icon *ngIf="isLoading">
                        <mat-spinner
                            color="primary"
                            diameter="16"
                        ></mat-spinner>
                    </mat-icon>
                </button>
            </div>
            <div class="mt-2" *ngIf="error">* Error: {{ error | json }}</div>
        </section>
    </form>
</section>
